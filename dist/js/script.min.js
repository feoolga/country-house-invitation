const modalBlock=document.querySelector("#weather"),weatherBlock=document.querySelector("#viget"),gismeteo="https://www.gismeteo.ru/weather-timiryazevo-133937/month/";let months=["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"],date=new Date,today=date.getDate()+" "+months[date.getMonth()];const openWeather=document.querySelector(".time__weather");function closeModal(){modalBlock.classList.remove("open")}openWeather.addEventListener("click",(function(){modalBlock.classList.add("open")}));const closeX=document.querySelector(".close-viget");async function loadWeather(){weatherBlock.innerHTML='<div class="loading"> <img src="img/load.gif" alt="Loading..."></div>';const t=await fetch("https://api.openweathermap.org/data/2.5/weather?units=metric&q=Gorokhovets&appid=5c2ab0f2e6c2ad23c076711877a90062",{method:"GET"}),e=await t.json();t.ok?getWeather(e):weatherBlock.innerHTML=e.message}function getWeather(t){let e;console.log(t),e="Gorokhovets"===t.name?"Гороховец":t.name;let n=Math.round(t.main.temp),a=t.weather[0].main,o=t.weather[0].icon;const r=`\n\t\t<div class="city"><span>${e}</span><span class="weather__small"> ${today}</span></div>\n\t\t<div class="row">\n\t\t\t<div>${a}</div>\n\t\t\t<img class="icon" src="https://openweathermap.org/img/w/${o}.png" alt="">\n\t\t</div>\n\t\t<div class="temper">${n}</div>\n\t\t<div id="giz" class="giz"><a href="${gismeteo}" target="_blank">Погода на даче на месяц</a></div>\n\t`;weatherBlock.innerHTML=r}function Calendar(t,e){const n=document.querySelector("#calengarParent");for(let l=0;l<3;l++){var a=new Date(t,e+l+1,0).getDate(),o=new Date(t,e+l,a),r=new Date(o.getFullYear(),o.getMonth(),a).getDay(),d=new Date(o.getFullYear(),o.getMonth(),1).getDay(),i="<tr>";if(0!=d)for(var c=1;c<d;c++)i+="<td>";else for(c=0;c<6;c++)i+="<td>";for(c=1;c<=a;c++)c==(new Date).getDate()&&o.getFullYear()==(new Date).getFullYear()&&o.getMonth()==(new Date).getMonth()?i+='<td class="today">'+c:i+="<td>"+c,0==new Date(o.getFullYear(),o.getMonth(),c).getDay()&&(i+="<tr>");for(c=r;c<7;c++)i+="<td>&nbsp;";let s=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"][o.getMonth()]+" "+o.getFullYear(),g=document.createElement("div");g.classList.add("col"),g.innerHTML=`\n\t\t\t<table id="calendar">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td colspan="5">${s}</td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>Пн</td>\n\t\t\t\t\t\t<td>Вт</td>\n\t\t\t\t\t\t<td>Ср</td>\n\t\t\t\t\t\t<td>Чт</td>\n\t\t\t\t\t\t<td>Пт</td>\n\t\t\t\t\t\t<td>Сб</td>\n\t\t\t\t\t\t<td>Вс</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>${i}</tbody>\n\t\t\t</table>\n\t\t`,n.appendChild(g)}}closeX.addEventListener("click",closeModal),modalBlock.addEventListener("click",(function(t){t.target.closest(".viget")||closeModal()})),weatherBlock&&loadWeather(),document.querySelector(".hero").addEventListener("mousemove",(t=>{Object.assign(document.documentElement,{style:`\n                --move-x: ${-.005*(t.clientX-window.innerWidth/2)}deg;\n                --move-y: ${-.01*(t.clientY-window.innerHeight/2)}deg;\n            `})})),function(){let t=document.querySelector(".large-img");document.querySelectorAll(".col-image").forEach((function(e,n){e.addEventListener("click",(function(){console.log(n),t.classList.add("open");let e=`\n            <div class="large-img__card">\n                <img src="${"./img/list/"+(n+1)+"_img.jpg"}" alt="где она?">\n            </div>\n            `;t.innerHTML=e}))})),t.addEventListener("click",(function(){this.classList.remove("open")}))}(),function(){let t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}},e=document.querySelector(".hero__content-parallax"),n=document.querySelector(".hero__content-touch-large");t.any()?(e.classList.add("hide"),n.classList.add("show")):(e.classList.add("show"),n.classList.add("hide"))}(),Calendar((new Date).getFullYear(),(new Date).getMonth());let days=document.querySelectorAll("td");for(let t of days)t.addEventListener("click",(function(t){let e=t.target;console.log(e),e.classList.toggle("clicked")}));